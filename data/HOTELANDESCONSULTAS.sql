SELECT * FROM CADENAHOTELERA;
SELECT * FROM HOTEL;
SELECT * FROM TIPOUSUARIOS;
SELECT * FROM USUARIOS;
SELECT * FROM TIPOHABITACION;
SELECT * FROM HABITACION;
SELECT * FROM SERVICIOADICIONAL;
SELECT * FROM PRODUCTOSERVICIO;
SELECT * FROM PLANCONSUMO;
SELECT * FROM SERVICIOSPLAN;
SELECT* FROM RESERVAHABITACION;
SELECT * FROM RESERVASERVICIO;
SELECT * FROM CUENTA;
SELECT * FROM CUENTAHABITACION;
--REQUERIMIENTO CONSULTA 1
SELECT SUM(PS1.COSTO)
FROM (SELECT ID,IDRESERVA,PAGADA FROM CUENTA ) C1,
(SELECT ID FROM RESERVAHABITACION WHERE FECHAINGRESO>='02/2/2018' AND FECHASALIDA<='20/02/2018') R1,
(SELECT * FROM CUENTAHABITACION  ) CH1,
(SELECT * FROM PRODUCTOSERVICIO  ) PS1
WHERE R1.ID=C1.IDRESERVA AND C1.PAGADA='SI' AND C1.ID=CH1.IDCUENTA AND CH1.ESPAGO='SI' AND CH1.IDPRODUCTOSERVICIO=PS1.ID
GROUP BY CH1.ESPAGO;
--REQUERIMIENTO CONSULTA 2
SELECT  COUNT(PS1.ID) CONSUMIDO,PS1.NOMBRE
FROM (SELECT ID,IDRESERVA,PAGADA FROM CUENTA ) C1,
(SELECT ID FROM RESERVAHABITACION WHERE FECHAINGRESO>='02/2/2018' AND FECHASALIDA<='02/03/2018') R1,
(SELECT * FROM CUENTAHABITACION ) CH1,
(SELECT * FROM PRODUCTOSERVICIO  ) PS1
WHERE R1.ID=C1.IDRESERVA AND C1.PAGADA='SI' AND C1.ID=CH1.IDCUENTA AND CH1.IDPRODUCTOSERVICIO=PS1.ID AND ROWNUM <= 20
GROUP BY PS1.ID,PS1.NOMBRE
ORDER BY (CONSUMIDO) DESC; 
--REQUERIMIENTO CONSULTA 3
SELECT HAB1.NHABITACION, COUNT(HAB1.ID)
FROM (SELECT * FROM HABITACION)HAB1,
(SELECT * FROM CUENTA) CU1,
(SELECT * FROM RESERVAHABITACION) RHAB1
WHERE CU1.PAGADA='SI' AND CU1.IDRESERVA=RHAB1.ID AND RHAB1.IDHABITACION=HAB1.ID
GROUP BY HAB1.ID,HAB1.NHABITACION;
--REQUERIMIENTO EJEMPLO CONSULTA 4
SELECT PS1.*
FROM PRODUCTOSERVICIO PS1
WHERE PS1.COSTO>10000 AND PS1.COSTO <800000 AND PS1.IDSERVICIOADICIONAL=7;
--REQUERIMIENTO CONSULTA 5
SELECT SUM(C1.TOTAL)
FROM (SELECT * FROM CUENTA ) C1,
(SELECT ID,IDUSUARIO FROM RESERVAHABITACION WHERE FECHAINGRESO>='02/2/2018' AND FECHASALIDA<='20/02/2018') R1
WHERE R1.IDUSUARIO=10 AND C1.IDRESERVA=R1.ID
GROUP BY C1.TOTAL;


